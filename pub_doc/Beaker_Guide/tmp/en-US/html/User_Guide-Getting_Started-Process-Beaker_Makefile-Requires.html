<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>3.2.1.2.14. Requires</title><link rel="stylesheet" href="Common_Content/css/default.css" type="text/css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.5" /><meta name="package" content="Beaker-Deployment_Guide-0.5-en-US-1-9" /><link rel="home" href="index.html" title="Deployment Guide" /><link rel="up" href="User_Guide-Getting_Started-Process-Beaker_Makefile.html" title="3.2.1.2. Beaker Makefile" /><link rel="prev" href="User_Guide-Getting_Started-Process-Beaker_Makefile-TestTime.html" title="3.2.1.2.13. TestTime" /><link rel="next" href="User_Guide-Getting_Started-Process-Beaker_Makefile-RHTSRequires.html" title="3.2.1.2.15. RHTSRequires" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="https://fedorahosted.org/publican"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="User_Guide-Getting_Started-Process-Beaker_Makefile-TestTime.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="User_Guide-Getting_Started-Process-Beaker_Makefile-RHTSRequires.html"><strong>Next</strong></a></li></ul><div class="section" id="User_Guide-Getting_Started-Process-Beaker_Makefile-Requires"><div class="titlepage"><div><div><h5 class="title" id="User_Guide-Getting_Started-Process-Beaker_Makefile-Requires">3.2.1.2.14. Requires</h5></div></div></div><div class="para">
			<span class="application"><strong>Requires</strong></span> one or more. This field indicates the packages that are required to be installed on the test machine for the test to work. The package being tested is automatically included via the<span class="application"><strong> PACKAGE_NAME</strong></span> variable. Anything <span class="application"><strong>runtest.sh</strong></span> needs for execution must be included here.
		</div><div class="para">
			This field can occur multiple times within the metadata. Each value should be a space-separated list of package names, or of Kickstart package group names preceded with an @ sign. Each package or group must occur within the distribution tree under test (specifically, it must appear in the <span class="application"><strong>comps.xml </strong></span>file).
		</div><div class="para">
			For exmaple:
		</div><pre class="screen">
@echo "Requires:     gdb" &gt;&gt; $(METADATA) 
@echo "Requires:     @legacy-software-development" &gt;&gt; $(METADATA) 
@echo "Requires:     @kde-software-development" &gt;&gt; $(METADATA) 
@echo "Requires:     -pdksh" &gt;&gt; $(METADATA)</pre><div class="para">
			The last example above shows that we don't want a particular package installed for this test. Normally you shouldn't have to do this unless the package is installed by default.
		</div><div class="para">
			In a lab implementation, the dependencies of the packages listed can be automatically loaded using yum.
		</div><div class="para">
			Note that unlike an RPM spec file, the names of packages are used rather than Provides: dependencies. If one of the dependencies changes name between releases, one of these approaches below may be helpful: 
			<div class="itemizedlist"><ul><li class="listitem"><div class="para">
						for major changes, split the test, so that each release is a separate test in a sub-directory, with the common files built from a shared directory in the <span class="application"><strong>Makefile. </strong></span>
					</div></li><li class="listitem"><div class="para">
						if only a dependency has changed name, specify the union of the names of dependencies in the Requires: field; an implementation should silently ignore unsolvable dependencies.
					</div></li><li class="listitem"><div class="para">
						it may be possible to work around the differences by logic in the section of the<span class="application"><strong> Makefile</strong></span> that generates the <span class="application"><strong>testinfo.desc </strong></span>file.
					</div></li></ul></div>

		</div><div class="para">
			When writing a multihost test involving multiple roles client(s) and server(s), the union of the requirements for all of the roles must be listed here.
		</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="User_Guide-Getting_Started-Process-Beaker_Makefile-TestTime.html"><strong>Prev</strong>3.2.1.2.13. TestTime</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="User_Guide-Getting_Started-Process-Beaker_Makefile-RHTSRequires.html"><strong>Next</strong>3.2.1.2.15. RHTSRequires</a></li></ul></body></html>
