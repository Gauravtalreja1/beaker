<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "beaker_user_guide.ent">
%BOOK_ENTITIES;
]>
<section id="chap-beaker_user_guide-Components-Jobs">
	<title>Jobs</title> 
	<para>
		The purpose of a Job is to provide an encapsulation of Tasks. It is to provide a single point of submission of these Tasks, and a single point of reviewing the output and results of these Tasks. The Tasks within a Job may or may not be related to each other; although it would make sense to define Jobs based on the relationship of the Tasks within it. Once a Job has been submitted you can not alter it's contents, or pause it. You can however cancel it (<xref linkend="sect-beaker_user_guide-Components-Jobs-Job_Submission-Job_Results" />), and alter it's priority (
	</para> 
	<section id="sect-beaker_user_guide-Components-Jobs-Job_Workflow">
		<title>Job Workflow<remark>Empty!</remark></title>
		<para></para>
	
	</section>
	<section id="sect-beaker_user_guide-Components-Jobs-Job_Searching">
		<title>Job Searching</title>
		<para>
			To search for a Job, navigate to <guimenu>Scheduler</guimenu>&gt;<guimenuitem>Jobs</guimenuitem> at the top of the page. To look up the <literal>Job ID</literal>, enter a number in the search box and press the <literal>Lookup ID</literal> button. Please see <xref linkend="sect-beaker_user_guide-Components-Systems-System_Searching" /> for details on searching. 
			<note>
				<title>Quick Searches</title>
				<para>
					By pressing the <literal>Running</literal>,<literal>Queued</literal>, or <literal>Completed</literal> buttons you can quickly display Recipes that have a status of running,queued, and completed respectively.
				</para>
			</note>
		</para>
	</section>
	
	<section id="sect-beaker_user_guide-Components-Jobs-Job_Submission">
		<title>Job Submission</title>
		<para>
			There are two ways of submitting a Job through the UI.They are outlined below.
		</para>
		<section id="sect-beaker_user_guide-Components-Jobs-Job_Submission-New_Job">	
                  <title>Submitting a new Job</title>
                  <para>
                   Once you have created an XML Job workflow, you able able to submit it as a new Job. To do this, go to the <guimenu>Scheduler</guimenu>&gt;
                   <guimenuitem>New Job</guimenuitem>. Click <literal>Browse</literal> to select your XML file, and then hit the <literal>Submit Data</literal> button.
                   The next page shown gives you an opportunity to check/edit your XML before queueing it as a Job by pressing the <literal>Queue</literal> button. 
                  </para>
                </section>

		<section id="sect-beaker_user_guide-Components-Jobs-Job_Submission-Cloning_an_existing_Job">
			<title>Cloning an existing Job</title>
			<para>
				Cloning a Job means to take a Job that has already been run on the System, and re-submit it. To do this you first need to be on the Job search page. See <xref linkend="sect-beaker_user_guide-Components-Jobs-Job_Searching" />.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/job_submit_clone.png" format="PNG" width="444" />
				</imageobject>
			</mediaobject>
			<para>
				Clicking on <literal>Clone</literal> under the <literal>Action</literal> column will take you to a page that shows the structure of the Job in the XML.
			</para>
			<note>
				<title>Submitting a slightly different Job</title>
				<para>
					If you want to submit a Job that's very similar to a Job already in Beaker,you can use the <literal>Clone</literal> button to change details of a previous Job and resubmit it!
				</para>
			</note>
		</section>
		
		<section id="sect-beaker_user_guide-Components-Jobs-Job_Submission-Job_Results">
			<title>Job Results</title>
			<para>
				The whole purpose of Jobs is to view the output of the Job, and more to the point, Tasks that ran within the Job. To do this, you must first go to the Job search screen (<xref linkend="sect-beaker_user_guide-Components-Jobs-Job_Searching" />). After finding the Job you want to see the results of, click on the link in the <literal>ID</literal> column.You don't have to wait until the Job has completed to view the results. Of course only
				the results of those Tasks that have already finished running will be available.
			</para>
			<para>
				The Job results page is divided by <literal>Recipe Set</literal>. To show the results of each Recipe within these Recipe Sets, click the 
                                <literal>Show All Results</literal> button. You can just show the tasks that have a status of <literal>Fail</literal> by clicking 
                                <literal>Show Failed Results</literal>. 
			</para>
			<para> 
				While your Job is still <literal>Queued</literal> it's possible to change the priority. You can change the priority of individual Recipe Sets by changing the value of <literal>Priority</literal>, or you can change all the Job's Recipe Sets at once by clicking an option beside the text <literal>Set all RecipeSet priorities</literal>, which is at the top right of the page. If successful, a green success message will briefly display, otherwise a red error message will be shown.
			</para>
			<note><title>Priority permissions</title>
				<para>
					If you are not an Admin you will only be able to lower the priority. Admins can lower and raise the priority
				</para>
			</note>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/job_priority_change.png" format="PNG" width="444" />
				</imageobject>
			</mediaobject>
			
				
			
			<para>
			
				<variablelist><title>Result Details</title>
                                	<varlistentry><term>Run</term>
						<listitem>
							<para>
								This is the <literal>ID</literal> of the instance of the particular Task.
							</para>
						</listitem>
                                        </varlistentry>
                                        <varlistentry><term>Task</term>
						<listitem>
							<para>
							         A Task which is part of our current Job.
							</para>
						</listitem>
                                        </varlistentry>
 					<varlistentry><term>Start</term>
						<listitem>
							<para>
								The time at which the Task commenced.
							</para>
						</listitem>
					</varlistentry>
 					<varlistentry><term>Finish</term>
						<listitem>
							<para>
								The time at which the Task completed.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry><term>Duration</term>
						<listitem>
							<para>
								Time the Task took to run.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry><term>Logs</term>
						<listitem>
							<para>
								This is a listing of all the output logs generated during the running of this Task.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry><term>Status</term>
						<listitem>
							<para>
								This is the current Status of the Task. <literal>Aborted</literal>,<literal>Cancelled</literal> and <literal>Completed</literal> mean that the Task has finished running.
							</para>
						</listitem>
					</varlistentry>
					<varlistentry><term>Action</term>
						<listitem>
							<para>
								 The two options here are <literal>Cancel</literal> and <literal>Clone</literal>.See <xref linkend="sect-beaker_user_guide-Components-Jobs-Job_Submission-Cloning_an_existing_Job" /> to learn about Cloning.
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				<note>
					<title>Viewing Job results at a glance</title>
					<para>
						If you would to be able to look at the <literal>Result</literal> of all Tasks within a particular Job, try the 
                                                <literal>Matrix Report</literal>, See <xref linkend="sect-beaker_user_guide-Reports-Matrix_Report" />.
					</para>
				</note>
			</para>
		</section>

	</section>

</section>

