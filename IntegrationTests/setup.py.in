import fnmatch
import os
from glob import glob
from setuptools import setup, find_packages
def find_osversion():
    matches = []
    for root, dirnames, filenames in os.walk('src/bkr/inttest/labcontroller/osversion_data'):
      for filename in fnmatch.filter(filenames, '*'):
          matches.append(os.path.join(root, filename))
    return matches

setup(
    name='bkr.inttest',
    version='@VERSION@',
    packages=find_packages('src'),
    package_dir={'': 'src'},
    package_data={'': [
       	'*.xml',
        'server/kickstarts/*',
        'server/motd.xml',
        'server/selenium/*.rpm',
        'server/selenium/invalid-task_file',] +
        map(lambda x: x.replace('src/bkr/inttest/',''), find_osversion())
    },
    namespace_packages=['bkr'],
    install_requires=[
        'bkr.server',
        'bkr.client',
        'selenium',
        'kobo',
    ],
)
